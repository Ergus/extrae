
ChangeLog
   [ + added, - removed, * changed ]

   * (08/Sep/2011) Improved handling of OpenMP
   + (05/Apr/2011) Additional support for pthread library
   * (31/Mar/2011) Fix for matching user communications in merger.
   * (28/Mar/2011) Support for XL -qdebug=function_trace
   * (23/Mar/2011) Several fixes to revive CBEA support
   * (22/Mar/2011) Increase buffer size to 500k elements
   * (03/Mar/2011) Fix communication between threads (i.e. task != 1 is sending
                     or receiving)
                   Differentiate MPI_Init_thread per C/Fortran (Fortran
                     implementation may be missing but C available)
   * (24/Feb/2011) Fix typo in Extrae_fini that prevented tracing applications in fortran
   + (02/Feb/2011) Added example of dynamic load instrumentation in AIX
   * (01/Feb/2011) Bug solved: looking for hw signals in PAPI 4.x
                   Change at global operations now uses MPI_Comm_compare
                   Honor -f/-f-relative with the new MPIT file distribution in set-* directories
                   Fix sampled address translation. The address that was 
                     obtained by the overflow was pointing to the incorrect line no
                     after a fix in revision 425.
   * (21/Jan/2011) AIX support to generate libmpitrace.so without libtool
                   (libtool in AIX does not allow generating shared libraries)
   + (19/Nov/2010) FreeBSD support (examples & --with-libexecinfo)
                   Simplification of example install rules in Makefile.am
                   Change bash  to sh in substitute/substitute-all
   * (18/Nov/2010) Fix: when sorting addresses wipe the address2info cache.
   * (12/Nov/2010) Fixes compilation when struct mallinfo is not available.
                   Fixes compilation if BFD&liberty are not available in the system.
                   Put the EXTRAE_LABELS content at the end of the PCF file.
   * (09/Nov/2010) Tagged Extrae 2.1.1
   * (09/Nov/2010) Bugfix, mpi2prv triead *always* to generate dimemas traces.
                   New -sort-addresses functionality in merger, to sort addresses of
                     MPI callers, user functions and so.
                   Improved XML parsing (env vars & case insensitive)
                   Added aliases to Extrae_* API/fortran
                   Added -fno-optimize-sibling call to avoid unexpected
                     optimizations (we found that sometimes some routines were
                     called directly skipping routines: for example,
                     misc_interface calls did not appear)
                   Simplified behavior with/without -e and with/without BFD
                     support:
                     * no bfd support / no -e / -e and invalid binary,
                       addresses are left unchanged in the trace
                     * -e binary translates addresses to source code through
                       dictionary
   * (20/Oct/2010) added -with-dwarf for dyninst
                   support for upcoming dyninst (post 6.1)
   + (18/Oct/2010) .sym file is automatically loaded based on the .mpits files given through -f at merge step
   + (15/Oct/2010) Added automatic merge in the tracing libraries (see --enable-merge-in-trace in configure)
                   Improved documentation: examples, XML, FAQ
   + (16/Jul/2010) Now parallel merge works in a tree-based topology (must be run with NP >= 2)
   + (13/Apr/2010) Added support for IBM POE on Linux.
   + (08/Apr/2010) Intermediate files are stored in separated directories instead of a single one.
   + (10/Jan/2010) Instrumentation library in bursts mode can gather MPI calls.
   + (07/Jan/2010) Initial tracing of PACX
                   Removed license code.
   * (07/Dec/2009) Force mkdir of the storage directory. So make-dir are no longer needed in the XML files.
                   Improve -f on merger. First try on absolute path, then in relative.
   * (03/Dec/2009) Fixed a bug in 64bit systems where MPI_Request is a pointer. May produce mismatching communications.
                   Added MPItrace_user_function (int) into the headers.
   * (26/Nov/2009) Fixed conversion of caller lines (sampling or MPI)
   * (25/Nov/2009) Fixed access to ptr_statuses which caused to segfault when calling mpi_waitall/mpi_waitsome
   + (04/Nov/2009) Added DLB support for MPI & SMPss applications.
   * (03/Nov/2009) Support of using MPI_STATUS_IGNORE in MPI_Status parameters (MPI_Wait, MPI_Recv, ...)
   * (03/Sep/2009) Fixed matching communications in mpi2prv that made mpi_sendrecv fail.
   * (17/Aug/2009) Fixed MPItrace_nevents to put all events to the same timestamp
                   Changed number of events in buffer in CELL (from 64 to 256).
                   Reduced clock-skew between CPU/SPU in CELL machine.
   * (28/May/2009) Fixed configure checking of mpi fortran decoration type.
   * (28/May/2009) Reverted status of libmpitrace.*. Now contains C & Fortran symbols because some MPI
                    implementations rely their MPI fortran symbols to C symbols (MN/MPICH) and others do
                    not (AIX/POE).
   * (28/May/2009) Changes in calltrace (and similar information). Uniformization of routines and lines:
                    MPI callers, OpenMP outlined routines, pthread called routines, user functions, sampled points
   * (26/May/2009) Fixed Dimemas translation problems related with communicators.
   * (25/May/2009) Fixed a problem with a call to fstat that delays the next event after a flush.
   * (25/May/2009) Fixed problems with the timestamp where the HWC_CHANGE events appeared
   * (25/May/2009) Fixed problems with make-dir in XML parsing. Also added full path to *.mpits file.
   * (25/May/2009) Parallel merge improvements
   * (20/May/2009) IBM MPI implementation does not support calling MPI_Get_count with MPI_STATUS_IGNORE, fix.
   * (23/Feb/2009) Improved support for SMPss+CELLss.
   + (18/Feb/2009) Bluegene/P examples imported. Support for PAPI 3.9.0 (BG/P).
   * (09/Feb/2009) Bluegene/P support.
   * (05/Jan/2009) Basic OpenMP instrumentation.
   * (12/Dec/2008) Basic API instrumentation performed by the DynInst launcher.
   * (11/Dec/2008) Splitted MPI instrumentation libraries (C/Fortran) and unifinied in a single one.
   * (24/Oct/2008) Improved time reading for Linux/PPC 64bits
   + (24/Oct/2008) MPItrace dyninst-based instrumentation is working
   + (22/Oct/2008) XML files automatically uses the xml-parser.c rcsid variable.
   + (20/Oct/2008) XML Example files use the $PREFIX$
   + (20/Oct/2008) Added support for SMPss

   *** CVS Branch STABLE-1.2

   * (25/Jun/2008) Basic OpenMP instrumentation for GNU OpenMP library (aka GOMP)
   * (30/May/2008) Improved the IBM XL openmp support (now with reductions)
   * (21/May/2008) Patch to workaround an #ifdef inside atomic.h /* linux - ppc32bits - openmp */
   * (19/May/2008) Changes ifndef USE_HARDWARE_COUNTERS-> if !USE_HARDWARE_COUNTERS
   * (19/May/2008) Updated the timestamp routine for the CBEA.
   * (03/Mar/2008) Modified the timestamp routine on x86/64
   + (28/Feb/2008) Added -syn-node option to the mpi2prv.
   + (11/Feb/2008) Added caller support for FreeBSD.
   + (28/Jan/2008) Added "xml-parser-id" to the XML in order to add a versioning system for the config file.
                   Added MPItrace_next_hwc_set / MPItrace_previous_hwc_set
                   Fixed MPItrace_counters
                   Fixed handling of large intermediate files when merging.
                   Imported Load Balancing into the tracing package
   + (21/Jan/2008) Added initial parallel merge for Dimemas traces (lacks 'caller' support)
                   Updated mpi2prv.1 manual file
                   Added mpimpi2prv.1, mpi2dim and mpimpi2dim manual file
                   XML can be used to support Dimemas/Paraver MPIT files.
   * (17/Jan/2008) Added initial support to generate Dimemas trace files.
                   Reduced the sizeof(paraver_rec_t) on 64bit systems by 10%
   * (03/Jan/2008) OpenMP instrumentation ignored "MPITRACE_ON", fixed.
                   Pthread instrumentation.
   + (21/Dec/2007) Added initial support for multiple output semantics in the merger. It currently generates PRV semantics only.
   *               Fixed an undefined reference in the calltrace module on AIX.
   * (19/Dec/2007) Improved verbosity of HWC output things.
   + (18/Dec/2007) New utility under bin/ called papi_best_set that searchs for groups of PAPI counters.
   * (17/Dec/2007) Solved a bug in makedir_recursive that failed when depth > 1
   * (10/Dec/2007) Modified the Fortran header file -- it contained some typos.
   * (29/Nov/2007) Trace package can be compiled without MPI.
                   Added more verbose information on HWC that cannot be added.
   * (28/Nov/2007) Package compiles for CELL & SDK 3.0 -- minor changes in send/receive from mailboxes --.
   * (13/Nov/2007) Fixed a link problem of the libmpitrace (included the MPI library inside)


Version 1.X
Thu 25/Oct/2007

List of changes
   [ + added, - removed, * changed ]
   + Minimal support for DynInst instrumentation package (now just builds on IA64).
   * Fixed a bug when calling MPI_Test. Tracing was unable to remove the request from the hash_table.
   * Fixed a bug that ignored make-dir in the final-directory.

Version 1.X
Wed 10/Oct/2007

List of changes
   [ + added, - removed, * changed ]
   + Added MPItrace wizard script

Version 1.X
Mon 28/Sep/2007

List of changes
   [ + added, - removed, * changed ]
   + Added MPI statistic: Time elapsed in MPI 


Version 1.X
Mon 24/Sep/2007

List of changes
   [ + added, - removed, * changed ]
   * Joined burst library / normal tracing library in one.
   - Static structures to hold Ptasks/Tasks/Threads information (MAX_PTASKS, MAX_TASKS, MAX_THREADS) are removed and computed on runtime.


Version 1.X
Mon 10/Sep/2007

List of changes:
   [ + added, - removed, * changed ]
   + -syn is automatically set to on/off depending on the nodes where the instrumented application ran

Version 1.X
Mon 09/Jul/2007

List of changes:
   [ + added, - removed, * changed ]

   * Clock timing on Linux/IA32 has been changed in order to support different Linuxes.

Version 1.X
Mon 25/Jun/2007

List of changes:
   [ + added, - removed, * changed ]

   + Added (initial) sampling support
   + New MPItrace_user_function routine to gather automatically where is happening the action.
   + Burst library is automatically generated in the same configure/make process.
   - Removed useless secondary call to AX_PROG_MPI in configure script
   * Set to 0 counters when HWC group changes

Version 1.X
Mon 14/May/2007

List of changes:
   [ + added, - removed, * changed ]

   + calltrace implementation under AIX/ppc


Version 1.X
Mon 07/May/2007

List of changes:
   [ + added, - removed, * changed ]

   * (bugfix) 64bit machines put an invalid unit time in the paraver header.

Version 1.X
Mon 23/Apr/2007

List of changes:
   [ + added, - removed, * changed ]

   * Heterogeneous support emits HWC information to the PRV.
   + Support for AIX/ppc environments.
   + Support for Solaris/x86 environments.
   - Zlib does not need to be included in the package. Take the system library.
   * Support for SDK 2.1 @ CBEA.
   + Tracing supports sequential trace (lost when the migration to configure happened).

Version 1.X
Mon 16/Apr/2007

List of changes:
   [ + added, - removed, * changed ]

   + CELL tracing adds node information on the .MPITs file.
   * Caller translation is disabled if configure does not find BFD.
   * (bugfix) MPI_Init (fortran) used MPI_Comm_f2c before calling MPI_Init and OpenMPI 1.2 does not allow this.

Version 1.X
Mon 09/Apr/2007

List of changes:
   [ + added, - removed, * changed ]

   + Fully functional configure stuff (although some functionalities aren't still there [see src/Makefile.am]). Covers Linux/BG-L/Altix/CELL machines.
   * (bugfix) Identifying PAPI counters when their IDs start with A-F chars failed.
   * (bugfix) File *.mpit were not correctly created when running with NTasks>1 on CELL.

Version 1.X
Mon 12/Mar/2007

List of changes:
   [ + added, - removed, * changed ]

   + Changes to use MMTimer (SGI Altix (IA64) "global clock").
   + Experimental heterogeneous support.
   * MPI_Barrier emits collective size (0)

Version 1.1
Mon 5/Mar/2007

List of changes:
   [ + added, - removed, * changed ]

   + New XML tags make-dir allows the user to create the directories at the tracing stage.
   * OpenMP + PAPI bug solved in the initialization step (openMP only).
   + HWC are emitted at the suspend/restart tracing point.
   + Trace control directed by a list of MPI collectives (on the MPI_COMM_WORLD).
   * XML/man are updated.
   * IA64 clock updated. Read ITC MHz entries instead CPU MHz.

Version 1.1
Mon 26/Feb/2007

List of changes:
   [ + added, - removed, * changed ]

   + OpenMPI support

Version 1.1
Mon 12/Feb/2007

List of changes:
   [ + added, - removed, * changed ]

   + Fixed a bug in *trace_neventandcounters (C version)
   * MN PAPI version is updated (changed directory, now in /gpfs/apps/PAPI/3.2.1-970mp/)
   + Added support to instrument -finstrument-function with GCC
   + Added UFlist.sh (script that provides pairs of @ - routine to be used in conjuction with User Function instrumentation)
   * MPI_Iprobe should not trace when user wants not to trace any MPI routine.
   * Paraver header now contains information about CPUs and NODEs, and also, a .ROW file containing such information (serial & parallel support).

Version 1.1
Thu 18/Jan/2007

List of changes:
   [ + added, - removed, * changed ]

   * Tracer & Merger gathers information on where MPI processes were running. Merger also writes .ROW file.

Version 1.1
Thu 11/Jan/2007

List of changes:
   [ + added, - removed, * changed]

   * Merger sorts the CPU bursts records that appeared out of order.

Version 1.1
Mon 07/Jan/2007

List of changes:
   [ + added, - removed, * changed]

   + Added CELL BE example
   * Tracing can be disabled/enabled at runtime with control file (not only enabled)

Version 1.1
Thu 28/Dec/2006

List of changes:
   [+ added, - removed, * changed]

   * States management changed

Version 1.1
Mon 11/Dec/2006

List of changes:
   [+ added, - removed, * changed]

   - Removed useless cancel test for wait* routines.
   - Removed useless group creation/destruction on rank gathering.

Version 1.1
Mon 04/Dec/2006

List of changes:
   [+ added, - removed, * changed]

   * Sequential merger uses ${TMPDIR} instead of current directory to create temporal files.
   * C MPI library no longer requires Fortran symbols.
   * Interfaces/Wrappers conforming to MPI.H


Version 1.1
Mon 27/Nov/2006

List of changes:
   [+ added, - removed, * changed]

   * Interfaces/Wrappers conforms to mpi.h datatypes.
   * Other minor bugfixes.
   + CPU Hardware counters can be different (and tunneable) for all the tasks.
   + Distribution of the XML using MPI (instead of multiple simultaneous reads)
   * Intermediate files used by mpi2prv (serial) are stored on $TMPDIR.


Version 1.1
Thu 23/Nov/2006 (Last major update 12:00:00 CET)

List of changes:
    [+ added, - removed, * changed ]

    + MPI I/O functions are now traced.

Version 1.1
Tue 21/Nov/2006

List of changes:
    [+ added, - removed, * changed ]

    + Myrinet counters support added.

Version 1.1
Mon 20/Nov/2006

List of changes:
    [+ added, - removed, * changed ]

    * Changed the identifiers of MPI_Probe & MPI_Iprobe because they collided with others.

Version 1.1
Thu 16/Nov/2006

List of changes:
    [+ added, - removed, * changed ]

    + CELL BE support embedded in the default tracing library.

Version 1.1
Fri 10/Nov/2006

List of changes:
    [+ added, - removed, * changed ]

    + MPI statistics and network counters are controlled by the XML.
    * Modified the mpitrace XML example.
    * Modified the structure of the MPIT (event_t structure) so as every event_t uses 112 bytes instead 120 in MN.

Version 1.1
Fri 03/Nov/2006

List of changes:
    [+ added, - removed, * changed ]

    + added MPI statistics (soft counters) when tracing CPU bursts


Version 1.1
Wed 24/Oct/2006

List of changes:
    [+ added, - removed, * changed ]

    + added buffer-size, file-size, MPI callers, final-directory, temporal-directory, control-file, control-time, minimum-time into the XML configuration file.

Version 1.1
Wed 18/Oct/2006

List of changes:
    [+ added, - removed, * changed ]

    + New feature to gather the mpits in the master node when the application executes MPI_Finalize
    + added MPItrace_Nevent / MPItrace_Neventandcounters

Version 1.1
Mon 16/Oct/2006

List of changes:
    [+ added, - removed, * changed ]

    * changed a fixed structure based on MAX_TASKS into a malloc
    + added more info at the header (BURSTS & ENDIAN)


Version 1.1
Fri 06/Oct/2006

List of changes:
    [+ added, - removed, * changed ]

    + Added RUsage information


Version 1.1
Wed 04/Oct/2006

List of changes:
    [+ added, - removed, * changed ]

    + Introduced some XML configuration (right now, only HWC)
    + Added a minimal XML configuration file into the example.
    + Better identification of HWC (those inexistent and string formatted)
    + Change HWC sets every some MPI global ops / amount of time.


Version 1.1
Tue 02/Oct/2006

List of changes:
    [+ added, - removed, * changed ]

    * Fixed a bug when translating MPI_PROC_NULL ranks in P2P operations.

Version 1.1
Wed 20/Sep/2006 (Last major update 16:00:00 CET)

Important notes:
    * Tracing a Fortran application with the shared library requires +1 level to each MPI caller
    * OpenMP tracing requires the target application to be MPI
    * MPIT files are incompatible with previous versions

List of changes:
    [+ added, - removed, * changed ]

    + NUM_OF_STATE_COLOR added to the PCF file
    + MPI callers and HWC are correctly written by the parallel merger
    + OpenMP tracing support (parallel, parallel for, sections constructs)
    + Identification of the OpenMP outlined routines (using -e flag)
    + Activation of the tracing with a file (see MPTRACE_CONTROL_FILE and MPTRACE_CONTROL_TIME in manual)
    + Native Hardware Counters support
    + Extra information in the MPIT files to ensure that the merger can join them (check for HWC)
    + Shared library generation for Linux/{PPC/IA32} machines
    + Updated manuals
    + Updated examples
